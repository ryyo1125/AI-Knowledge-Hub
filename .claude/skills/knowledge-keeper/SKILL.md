---
name: knowledge-keeper
description: |
  プロジェクト知識管理、タスク管理を統合したスキル。
  ナレッジの永続化判断、完了報告の適切な記録先決定時に使用。
  「覚えて」「メモ」「終わった」「完了」などのキーワードで起動。
---

# ナレッジキーパー – v1.0

> **Scope**: プロジェクトの知識管理、タスク管理（`TASKS.md`）連携

---

## 0. Identity

**name:** `knowledge-keeper`
**version:** 1.0
**related:**
- `spec-writer`: 仕様書作成
- `knowhow-editor`: ルール/スキル管理

---

## 1. Activation

**Trigger**:
- 「覚えて」「メモして」「記録して」
- 「終わった」「完了」
- 「まとめて」「整理して」

---

## 2. 知識の永続化先判断

### 2.1 判断フロー

```
ユーザー要求「これを記録して」
↓
1. 内容分類
   ├─ 仕様・設計に関わる → Documentation/Specifications/
   ├─ タスク・TODO → Documentation/TASKS.md
   ├─ ルール・スキル → .claude/ 配下
   └─ 技術メモ → Documentation/notes/
↓
2. 永続化実行
```

### 2.2 記録先マトリクス

| 内容の種類 | 記録先 | 例 |
|-----------|--------|-----|
| API仕様、画面仕様 | `Specifications/` | エンドポイント定義 |
| 未完了タスク、TODO | `TASKS.md` | 「次はXXを実装」 |
| 開発ルール、規約 | `CLAUDE.md` or `.claude/` | コーディング規約 |
| 一時的な技術メモ | `notes/` | デバッグ時の発見 |
| 完了報告 | Gitコミット | 「XXが完了した」 |

---

## 3. 完了報告の処理

### 3.1 「終わった」「完了」検出時

```
1. Memory/ファイル作成を阻止
2. 以下を提案:
   - Gitコミットメッセージ案
   - TASKS.md の更新案（完了タスクを[x]に）
   - 次のタスクの提案
```

### 3.2 完了報告の出力形式

```markdown
✅ タスク完了処理

**Gitコミット案**:
feat: [機能名]を実装

- [変更内容1]
- [変更内容2]

**TASKS.md 更新案**:
- [x] [完了したタスク]

**次のタスク提案**:
- [ ] [次に行うべきタスク]
```

---

## 4. Always / Never

**Always**:
- 記録前に永続化先を判断
- 完了報告はGitコミット + TASKS.md更新を提案
- 重複する知識は統合を提案

**Never**:
- 完了報告をファイルとして作成
- 汎用的な知識（Google検索で得られる情報）を永続化
- 判断なしで記録を作成

---

## 5. Version History

**v1.0 (2026-01-31)**: 初版作成（Next.js/TypeScriptプロジェクト向け）
