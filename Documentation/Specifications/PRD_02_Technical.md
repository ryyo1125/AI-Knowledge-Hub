# AI Coding Knowledge Hub - æŠ€è¡“ä»•æ§˜æ›¸

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.1
**æœ€çµ‚æ›´æ–°**: 2026-01-31
**é–¢é€£**: [PRD_01_Overview.md](PRD_01_Overview.md)

---

## 1. ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### 1.1 å…¨ä½“æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Vercel                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Next.js 14 App                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚   Pages     â”‚  â”‚    API      â”‚  â”‚  Cron Jobs      â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  (React)    â”‚  â”‚   Routes    â”‚  â”‚  â€»è¦æ±ºå®š        â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚                  â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                    â–¼                  â–¼            â”‚
          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
          â”‚  â”‚              Supabase                        â”‚  â”‚
          â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
          â”‚  â”‚  â”‚ PostgreSQLâ”‚  â”‚   Auth    â”‚  â”‚ Storage â”‚  â”‚  â”‚
          â”‚  â”‚  â”‚    DB     â”‚  â”‚ (Phase2)  â”‚  â”‚(Phase2) â”‚  â”‚  â”‚
          â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
          â”‚                                                    â”‚
          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
          â”‚  â”‚           External Services                  â”‚  â”‚
          â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚  â”‚
          â”‚  â”‚  â”‚ Claude    â”‚  â”‚   RSS     â”‚               â”‚  â”‚
          â”‚  â”‚  â”‚  API      â”‚  â”‚  Feeds    â”‚               â”‚  â”‚
          â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚  â”‚
          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
[RSS Feeds / Web Pages]
        â”‚
        â–¼ (Cron: 1å›/æ—¥)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Collector Job    â”‚ â† è¨˜äº‹å–å¾—ãƒ»ãƒ‘ãƒ¼ã‚¹
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Deduplication    â”‚ â† URLæ­£è¦åŒ– + ã‚¿ã‚¤ãƒˆãƒ«é¡ä¼¼åº¦ãƒã‚§ãƒƒã‚¯
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    AI Analyzer    â”‚ â† Claude API å‘¼ã³å‡ºã—ï¼ˆãƒªãƒˆãƒ©ã‚¤ã‚ã‚Šï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ (å¤±æ•—æ™‚: status='analysis_failed')
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database Save    â”‚ â† articles ãƒ†ãƒ¼ãƒ–ãƒ«ã«ä¿å­˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Human Review     â”‚ â† Web UI ã§ç¢ºèªãƒ»æ‰¿èª
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Report Generator  â”‚ â† é€±æ¬¡ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### 2.1 ERå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     sources     â”‚       â”‚    articles     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚â”€â”€â”€â”   â”‚ id (PK)         â”‚
â”‚ name            â”‚   â””â”€â”€<â”‚ source_id (FK)  â”‚
â”‚ url             â”‚       â”‚ url             â”‚
â”‚ feed_url        â”‚       â”‚ title           â”‚
â”‚ type            â”‚       â”‚ content         â”‚
â”‚ is_active       â”‚       â”‚ summary         â”‚
â”‚ scrape_config   â”‚       â”‚ published_at    â”‚
â”‚ created_at      â”‚       â”‚ collected_at    â”‚
â”‚ updated_at      â”‚       â”‚ ai_importance   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ ai_usefulness   â”‚
                          â”‚ ai_difficulty   â”‚
                          â”‚ ai_reason       â”‚
                          â”‚ ai_tags         â”‚
                          â”‚ human_importanceâ”‚
                          â”‚ human_usefulnessâ”‚
                          â”‚ human_difficultyâ”‚
                          â”‚ human_comment   â”‚
                          â”‚ status          â”‚
                          â”‚ created_at      â”‚
                          â”‚ updated_at      â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚    manuals      â”‚                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚
â”‚ id (PK)         â”‚                â”‚
â”‚ title           â”‚                â”‚
â”‚ content         â”‚                â”‚
â”‚ tags            â”‚                â”‚
â”‚ difficulty      â”‚                â”‚
â”‚ related_manual_ids â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ (manualsåŒå£«ã®ç›¸äº’å‚ç…§)
â”‚ source_article_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ status          â”‚
â”‚ created_at      â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ updated_at      â”‚       â”‚     reports     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                          â”‚ id (PK)         â”‚
                          â”‚ title           â”‚
                          â”‚ content         â”‚
                          â”‚ period_start    â”‚
                          â”‚ period_end      â”‚
                          â”‚ article_ids[]   â”‚â†â”€ (articleså‚ç…§)
                          â”‚ status          â”‚
                          â”‚ created_at      â”‚
                          â”‚ updated_at      â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©

#### sourcesï¼ˆç›£è¦–å¯¾è±¡ã‚µã‚¤ãƒˆï¼‰

```sql
CREATE TABLE sources (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name TEXT NOT NULL,
  url TEXT NOT NULL UNIQUE,
  feed_url TEXT,  -- RSSãƒ•ã‚£ãƒ¼ãƒ‰URLï¼ˆã‚ã‚Œã°ï¼‰
  type TEXT NOT NULL DEFAULT 'rss',  -- 'rss' | 'scrape'
  is_active BOOLEAN NOT NULL DEFAULT true,

  -- ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°è¨­å®šï¼ˆtype='scrape'ã®å ´åˆï¼‰
  scrape_config JSONB,
  -- {
  --   "titleSelector": "h1.article-title",
  --   "contentSelector": "div.article-body",
  --   "dateSelector": "time.published",
  --   "dateFormat": "YYYY-MM-DD"
  -- }

  created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT now()
);
```

#### articlesï¼ˆåé›†è¨˜äº‹ï¼‰

```sql
CREATE TABLE articles (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  source_id UUID NOT NULL REFERENCES sources(id) ON DELETE CASCADE,
  url TEXT NOT NULL UNIQUE,
  title TEXT NOT NULL,

  -- æœ¬æ–‡: AIåˆ†æç”¨ã«æœ€å¤§5000æ–‡å­—ã¾ã§ä¿å­˜
  content TEXT CHECK (char_length(content) <= 5000),
  summary TEXT,  -- AIç”Ÿæˆè¦ç´„ï¼ˆ100æ–‡å­—ä»¥å†…ï¼‰

  published_at TIMESTAMPTZ,
  collected_at TIMESTAMPTZ NOT NULL DEFAULT now(),

  -- AIè©•ä¾¡
  ai_importance INTEGER CHECK (ai_importance BETWEEN 1 AND 5),
  ai_usefulness INTEGER CHECK (ai_usefulness BETWEEN 1 AND 5),
  ai_difficulty INTEGER CHECK (ai_difficulty BETWEEN 1 AND 5),
  ai_reason JSONB,  -- {importance: "...", usefulness: "...", difficulty: "..."}
  ai_tags TEXT[] CHECK (array_length(ai_tags, 1) <= 5),
  ai_analyzed_at TIMESTAMPTZ,  -- åˆ†æå®Œäº†æ—¥æ™‚
  ai_error TEXT,  -- ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

  -- äººé–“è©•ä¾¡
  human_importance INTEGER CHECK (human_importance BETWEEN 1 AND 5),
  human_usefulness INTEGER CHECK (human_usefulness BETWEEN 1 AND 5),
  human_difficulty INTEGER CHECK (human_difficulty BETWEEN 1 AND 5),
  human_comment TEXT,
  reviewed_at TIMESTAMPTZ,  -- ãƒ¬ãƒ“ãƒ¥ãƒ¼æ—¥æ™‚

  -- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
  -- pending: æœªãƒ¬ãƒ“ãƒ¥ãƒ¼
  -- approved: æ‰¿èªæ¸ˆã¿
  -- rejected: å´ä¸‹
  -- analysis_failed: AIåˆ†æå¤±æ•—ï¼ˆãƒªãƒˆãƒ©ã‚¤å¯¾è±¡ï¼‰
  status TEXT NOT NULL DEFAULT 'pending'
    CHECK (status IN ('pending', 'approved', 'rejected', 'analysis_failed')),

  created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT now()
);

-- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_articles_status ON articles(status);
CREATE INDEX idx_articles_collected_at ON articles(collected_at DESC);
CREATE INDEX idx_articles_source_id ON articles(source_id);
CREATE INDEX idx_articles_ai_importance ON articles(ai_importance DESC);
```

#### manualsï¼ˆãƒãƒ‹ãƒ¥ã‚¢ãƒ«ï¼‰

```sql
CREATE TABLE manuals (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  title TEXT NOT NULL,
  content TEXT NOT NULL,  -- Markdownå½¢å¼
  tags TEXT[],
  difficulty INTEGER CHECK (difficulty BETWEEN 1 AND 5),

  -- é–¢é€£ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ï¼ˆæ‰‹å‹•é¸æŠï¼‰
  related_manual_ids UUID[],

  -- å…ƒè¨˜äº‹ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  source_article_id UUID REFERENCES articles(id) ON DELETE SET NULL,

  status TEXT NOT NULL DEFAULT 'draft'
    CHECK (status IN ('draft', 'published')),

  created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT now()
);

CREATE INDEX idx_manuals_status ON manuals(status);
CREATE INDEX idx_manuals_tags ON manuals USING GIN(tags);
```

#### reportsï¼ˆé€±æ¬¡ãƒ¬ãƒãƒ¼ãƒˆï¼‰

```sql
CREATE TABLE reports (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  title TEXT NOT NULL,
  content TEXT NOT NULL,  -- Markdownå½¢å¼
  period_start DATE NOT NULL,
  period_end DATE NOT NULL,
  article_ids UUID[],  -- å«ã¾ã‚Œã‚‹è¨˜äº‹ID
  status TEXT NOT NULL DEFAULT 'draft'
    CHECK (status IN ('draft', 'published')),
  created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT now()
);

CREATE INDEX idx_reports_period ON reports(period_start DESC);
```

---

## 3. APIè¨­è¨ˆ

### 3.1 ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| Method | Endpoint | èª¬æ˜ | æˆ»ã‚Šå€¤ãƒãƒªã‚·ãƒ¼ |
|--------|----------|------|---------------|
| GET | `/api/sources` | ç›£è¦–å¯¾è±¡ä¸€è¦§ | DTOï¼ˆâ€»100ä»¶ä»¥ä¸‹æƒ³å®šï¼‰ |
| POST | `/api/sources` | ç›£è¦–å¯¾è±¡è¿½åŠ  | ACTION |
| PUT | `/api/sources/[id]` | ç›£è¦–å¯¾è±¡æ›´æ–° | ACTION |
| DELETE | `/api/sources/[id]` | ç›£è¦–å¯¾è±¡å‰Šé™¤ | ACTION |
| GET | `/api/articles` | è¨˜äº‹ä¸€è¦§ | PAGINATED |
| GET | `/api/articles/[id]` | è¨˜äº‹è©³ç´° | DTO |
| PUT | `/api/articles/[id]/review` | äººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼ | ACTION |
| POST | `/api/articles/[id]/reanalyze` | AIå†åˆ†æ | ACTION |
| POST | `/api/collect` | æ‰‹å‹•åé›†å®Ÿè¡Œ | ACTION |
| GET | `/api/reports` | ãƒ¬ãƒãƒ¼ãƒˆä¸€è¦§ | PAGINATED |
| POST | `/api/reports/generate` | ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ | ACTION |
| GET | `/api/manuals` | ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ä¸€è¦§ | PAGINATED |
| POST | `/api/manuals` | ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ä½œæˆ | ACTION |

### 3.2 æˆ»ã‚Šå€¤ãƒãƒªã‚·ãƒ¼å®šç¾©

#### ACTIONï¼ˆçŠ¶æ…‹å¤‰æ›´ç³»ï¼‰

```typescript
interface ActionResponse<T = unknown> {
  success: boolean;
  message: string;
  data?: T;
  error?: {
    code: string;
    details?: string;
  };
}

// æˆåŠŸä¾‹
{
  success: true,
  message: "è¨˜äº‹ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ä¿å­˜ã—ã¾ã—ãŸ",
  data: { id: "xxx-xxx" }
}

// å¤±æ•—ä¾‹
{
  success: false,
  message: "AIåˆ†æã«å¤±æ•—ã—ã¾ã—ãŸ",
  error: {
    code: "AI_ANALYSIS_ERROR",
    details: "Rate limit exceeded"
  }
}
```

#### DTOï¼ˆãƒ‡ãƒ¼ã‚¿å–å¾—ç³»ï¼‰

```typescript
// ä¾‹: Article
interface ArticleDTO {
  id: string;
  sourceId: string;
  sourceName: string;
  url: string;
  title: string;
  summary: string | null;
  publishedAt: string | null;
  collectedAt: string;
  aiScore: {
    importance: number;
    usefulness: number;
    difficulty: number;
    reason: {
      importance: string;
      usefulness: string;
      difficulty: string;
    };
    tags: string[];
    analyzedAt: string;
  } | null;
  humanScore: {
    importance: number | null;
    usefulness: number | null;
    difficulty: number | null;
    comment: string | null;
    reviewedAt: string | null;
  };
  status: 'pending' | 'approved' | 'rejected' | 'analysis_failed';
}
```

#### PAGINATEDï¼ˆä¸€è¦§å–å¾—ç³»ï¼‰

```typescript
interface PaginatedResponse<T> {
  data: T[];
  pagination: {
    total: number;
    page: number;
    limit: number;
    totalPages: number;
    hasNext: boolean;
    hasPrev: boolean;
  };
}

// ä¾‹
{
  data: [...],
  pagination: {
    total: 150,
    page: 1,
    limit: 20,
    totalPages: 8,
    hasNext: true,
    hasPrev: false
  }
}
```

---

## 4. ç”»é¢è¨­è¨ˆ

### 4.1 ç”»é¢ä¸€è¦§

| ç”»é¢ | ãƒ‘ã‚¹ | æ©Ÿèƒ½ |
|------|------|------|
| ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | `/` | çµ±è¨ˆã‚µãƒãƒªãƒ¼ã€æœ€è¿‘ã®è¨˜äº‹ |
| è¨˜äº‹ä¸€è¦§ | `/articles` | è¨˜äº‹ã®æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼ |
| è¨˜äº‹è©³ç´° | `/articles/[id]` | è¨˜äº‹å†…å®¹ãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼å…¥åŠ› |
| ã‚½ãƒ¼ã‚¹ç®¡ç† | `/sources` | ç›£è¦–å¯¾è±¡ã®è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤ |
| ãƒ¬ãƒãƒ¼ãƒˆä¸€è¦§ | `/reports` | é€±æ¬¡ãƒ¬ãƒãƒ¼ãƒˆã®é–²è¦§ãƒ»ç”Ÿæˆ |
| ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ä¸€è¦§ | `/manuals` | ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã®é–²è¦§ãƒ»ä½œæˆï¼ˆPhase 2ï¼‰ |

### 4.2 ç”»é¢ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ 

#### ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI Coding Knowledge Hub                        [Settings]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ ä»Šé€±ã®åé›†  â”‚ â”‚ æœªãƒ¬ãƒ“ãƒ¥ãƒ¼  â”‚ â”‚ æ‰¿èªæ¸ˆã¿    â”‚           â”‚
â”‚  â”‚    45ä»¶     â”‚ â”‚    12ä»¶     â”‚ â”‚    33ä»¶     â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ æœ€è¿‘ã®è¨˜äº‹                               [åé›†å®Ÿè¡Œ]  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â˜…â˜…â˜…â˜…â˜† Claude Codeæ–°æ©Ÿèƒ½ï¼š...          [Review]     â”‚   â”‚
â”‚  â”‚ â˜…â˜…â˜…â˜†â˜† AIã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®ãƒ™ã‚¹ãƒˆ...      [Review]     â”‚   â”‚
â”‚  â”‚ â˜…â˜…â˜…â˜…â˜… ã€é‡è¦ã€‘APIã®ç ´å£Šçš„å¤‰æ›´...     [Approved]   â”‚   â”‚
â”‚  â”‚ âš ï¸    åˆ†æå¤±æ•—ï¼šã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ...        [å†åˆ†æ]     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### è¨˜äº‹ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† æˆ»ã‚‹                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Claude Codeæ–°æ©Ÿèƒ½ï¼šMCPã‚µãƒ¼ãƒãƒ¼é€£æº                        â”‚
â”‚  Source: Zenn | Published: 2026-01-30                      â”‚
â”‚  [ğŸ”— å…ƒè¨˜äº‹ã‚’é–‹ã]                                         â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ AIè¦ç´„                                               â”‚   â”‚
â”‚  â”‚ Claude Codeã«MCPã‚µãƒ¼ãƒãƒ¼æ©Ÿèƒ½ãŒè¿½åŠ ã•ã‚Œ...           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ AIè©•ä¾¡              â”‚ äººé–“è©•ä¾¡                      â”‚   â”‚
â”‚  â”‚ é‡è¦åº¦: â˜…â˜…â˜…â˜…â˜† (4) â”‚ é‡è¦åº¦: [1][2][3][4][5]      â”‚   â”‚
â”‚  â”‚ æœ‰ç”¨åº¦: â˜…â˜…â˜…â˜…â˜† (4) â”‚ æœ‰ç”¨åº¦: [1][2][3][4][5]      â”‚   â”‚
â”‚  â”‚ é›£æ˜“åº¦: â˜…â˜…â˜…â˜†â˜† (3) â”‚ é›£æ˜“åº¦: [1][2][3][4][5]      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  ã‚³ãƒ¡ãƒ³ãƒˆ:                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  [å´ä¸‹] [æ‰¿èª]                                              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. å¤–éƒ¨é€£æº

### 5.1 Claude API

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆä»•æ§˜

```typescript
import Anthropic from '@anthropic-ai/sdk';

const anthropic = new Anthropic({
  apiKey: process.env.ANTHROPIC_API_KEY,
});

interface AnalysisResult {
  importance: number;
  importance_reason: string;
  usefulness: number;
  usefulness_reason: string;
  difficulty: number;
  difficulty_reason: string;
  summary: string;
  tags: string[];
}

// åˆ†æãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆãƒªãƒˆãƒ©ã‚¤ä»˜ãï¼‰
const analyzeArticle = async (
  article: { title: string; content: string; url: string },
  retryCount = 0
): Promise<AnalysisResult> => {
  const MAX_RETRIES = 3;
  const RETRY_DELAYS = [1000, 5000, 30000]; // ms

  try {
    const response = await anthropic.messages.create({
      model: "claude-3-haiku-20240307",
      max_tokens: 1024,
      messages: [{
        role: "user",
        content: buildAnalysisPrompt(article)
      }]
    });

    const text = response.content[0].type === 'text'
      ? response.content[0].text
      : '';
    return JSON.parse(text);

  } catch (error) {
    if (retryCount < MAX_RETRIES && isRetryableError(error)) {
      await sleep(RETRY_DELAYS[retryCount]);
      return analyzeArticle(article, retryCount + 1);
    }
    throw error;
  }
};

const isRetryableError = (error: unknown): boolean => {
  // Rate limit, timeout, 5xx errors
  if (error instanceof Anthropic.RateLimitError) return true;
  if (error instanceof Anthropic.APIConnectionError) return true;
  if (error instanceof Anthropic.InternalServerError) return true;
  return false;
};
```

#### ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š

| é …ç›® | å€¤ |
|------|-----|
| å…¥åŠ›ãƒˆãƒ¼ã‚¯ãƒ³å˜ä¾¡ | $0.25 / 1M tokens |
| å‡ºåŠ›ãƒˆãƒ¼ã‚¯ãƒ³å˜ä¾¡ | $1.25 / 1M tokens |
| 1è¨˜äº‹ã‚ãŸã‚Šå…¥åŠ› | ~2,000 tokens |
| 1è¨˜äº‹ã‚ãŸã‚Šå‡ºåŠ› | ~500 tokens |
| 1è¨˜äº‹ã‚ãŸã‚Šã‚³ã‚¹ãƒˆ | ~$0.001 |
| é€±50è¨˜äº‹ | ~$0.05 |
| æœˆ200è¨˜äº‹ | ~$0.20 |

**æ³¨æ„**: ãƒªãƒˆãƒ©ã‚¤ã«ã‚ˆã‚Šæœ€å¤§3å€ã®ã‚³ã‚¹ãƒˆãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ã‚ã‚Š

---

## 6. Cron Jobè¨­è¨ˆ

> âš ï¸ **è¦æ±ºå®š**: Vercel Hobby ãƒ—ãƒ©ãƒ³ã§ã¯ Cron ä½¿ç”¨ä¸å¯ã€‚ä»£æ›¿æ‰‹æ®µã‚’é¸æŠã™ã‚‹å¿…è¦ã‚ã‚Šã€‚
> â†’ [TASKS.md](../TASKS.md) ã®æ±ºå®šå¾…ã¡èª²é¡Œã‚’å‚ç…§

### 6.1 ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆæ¡ˆï¼‰

| Job | ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« | èª¬æ˜ | ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ |
|-----|-------------|------|-------------|
| collect-articles | `0 21 * * *` (UTC) | è¨˜äº‹åé›†ï¼ˆJST 6:00ï¼‰ | UTC |
| generate-report | `0 0 * * 1` (UTC) | é€±æ¬¡ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆï¼ˆJST æœˆæ›œ9:00ï¼‰ | UTC |

### 6.2 å®Ÿè£…ã‚ªãƒ—ã‚·ãƒ§ãƒ³

```
ã‚ªãƒ—ã‚·ãƒ§ãƒ³A: GitHub Actionsï¼ˆç„¡æ–™ï¼‰
  - .github/workflows/collect.yml ã§ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œ
  - Vercel ã® API Route ã‚’ HTTP ã§å‘¼ã³å‡ºã—

ã‚ªãƒ—ã‚·ãƒ§ãƒ³B: å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆç„¡æ–™æ ã‚ã‚Šï¼‰
  - cron-job.org / EasyCron ç­‰
  - Webhook ã§ API Route ã‚’å‘¼ã³å‡ºã—

ã‚ªãƒ—ã‚·ãƒ§ãƒ³C: æ‰‹å‹•å®Ÿè¡Œã®ã¿ï¼ˆPhase 1ï¼‰
  - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã« [åé›†å®Ÿè¡Œ] ãƒœã‚¿ãƒ³
  - è‡ªå‹•åŒ–ã¯ Phase 2 ã¸å…ˆé€ã‚Š
```

---

## 7. é‡è¤‡æ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯

### 7.1 URLæ­£è¦åŒ–

```typescript
const normalizeUrl = (url: string): string => {
  const parsed = new URL(url);

  // ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å‰Šé™¤ï¼ˆãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ç³»ï¼‰
  const trackingParams = ['utm_source', 'utm_medium', 'utm_campaign', 'ref'];
  trackingParams.forEach(p => parsed.searchParams.delete(p));

  // æœ«å°¾ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚’çµ±ä¸€
  let path = parsed.pathname.replace(/\/+$/, '');

  return `${parsed.host}${path}${parsed.search}`.toLowerCase();
};
```

### 7.2 é‡è¤‡åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯

```typescript
const isDuplicate = async (
  newArticle: { url: string; title: string; sourceId: string }
): Promise<boolean> => {
  const normalizedUrl = normalizeUrl(newArticle.url);

  // 1. URLå®Œå…¨ä¸€è‡´ãƒã‚§ãƒƒã‚¯
  const urlMatch = await db.articles.findFirst({
    where: { url: normalizedUrl }
  });
  if (urlMatch) return true;

  // 2. åŒä¸€ã‚½ãƒ¼ã‚¹å†…ã§ã®ã‚¿ã‚¤ãƒˆãƒ«é¡ä¼¼åº¦ãƒã‚§ãƒƒã‚¯ï¼ˆé–¾å€¤90%ï¼‰
  const recentArticles = await db.articles.findMany({
    where: {
      sourceId: newArticle.sourceId,
      collectedAt: { gte: subDays(new Date(), 7) }
    },
    select: { title: true }
  });

  for (const article of recentArticles) {
    if (similarity(newArticle.title, article.title) > 0.9) {
      return true;
    }
  }

  return false;
};
```

---

## 8. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

### 8.1 API ã‚­ãƒ¼ç®¡ç†

```env
# .env.local (Gitã«ã‚³ãƒŸãƒƒãƒˆã—ãªã„)
ANTHROPIC_API_KEY=sk-ant-xxx
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=xxx
SUPABASE_SERVICE_ROLE_KEY=xxx  # ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®ã¿
```

### 8.2 Phase 2ã§ã®èªè¨¼

```typescript
// middleware.ts (Phase 2ã§è¿½åŠ )
import { createMiddlewareClient } from '@supabase/auth-helpers-nextjs';
import { NextRequest, NextResponse } from 'next/server';

export async function middleware(req: NextRequest) {
  const res = NextResponse.next();
  const supabase = createMiddlewareClient({ req, res });
  const { data: { session } } = await supabase.auth.getSession();

  if (!session) {
    return NextResponse.redirect(new URL('/login', req.url));
  }

  return res;
}

export const config = {
  matcher: ['/((?!login|api/cron|_next/static|favicon.ico).*)']
};
```

---

## 9. æˆåŠŸæŒ‡æ¨™ã®æ¸¬å®šæ–¹æ³•

### 9.1 AIåˆ†æç²¾åº¦ã®è¨ˆç®—

```typescript
// ã€Œä¸€è‡´ã€ã®å®šç¾©: å„ã‚¹ã‚³ã‚¢ã®å·®ãŒ1ä»¥å†…
const isScoreMatch = (
  ai: { importance: number; usefulness: number; difficulty: number },
  human: { importance: number; usefulness: number; difficulty: number }
): boolean => {
  return (
    Math.abs(ai.importance - human.importance) <= 1 &&
    Math.abs(ai.usefulness - human.usefulness) <= 1 &&
    Math.abs(ai.difficulty - human.difficulty) <= 1
  );
};

// ç²¾åº¦è¨ˆç®—ï¼ˆãƒ¬ãƒ“ãƒ¥ãƒ¼æ¸ˆã¿è¨˜äº‹ã®ã†ã¡ä¸€è‡´ã—ãŸå‰²åˆï¼‰
const calculateAccuracy = async (): Promise<number> => {
  const reviewed = await db.articles.findMany({
    where: {
      status: { in: ['approved', 'rejected'] },
      human_importance: { not: null }
    }
  });

  const matches = reviewed.filter(a => isScoreMatch(
    { importance: a.ai_importance, usefulness: a.ai_usefulness, difficulty: a.ai_difficulty },
    { importance: a.human_importance!, usefulness: a.human_usefulness!, difficulty: a.human_difficulty! }
  ));

  return matches.length / reviewed.length;
};
```

---

## 10. æ‰¿èªå±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ‰¿èªè€… | å†…å®¹ |
|------|-----------|--------|------|
| 2026-01-31 | 1.0 | - | åˆç‰ˆä½œæˆ |
| 2026-01-31 | 1.1 | - | ã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼åæ˜ ï¼ˆã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€é‡è¤‡æ¤œå‡ºã€ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ç­‰ï¼‰ |
