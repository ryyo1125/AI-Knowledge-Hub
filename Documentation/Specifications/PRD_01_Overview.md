# AI Coding Knowledge Hub - 製品要件定義書

**バージョン**: 1.1
**最終更新**: 2026-01-31
**ステータス**: 要件定義完了（セルフレビュー済）

---

## 1. プロジェクト概要

### 1.1 プロジェクト名

**AI Coding Knowledge Hub**（仮称）

### 1.2 目的

Claude CodeやAIコーディングに関するノウハウを効率的に収集・分析・体系化し、チーム全体の生産性向上を実現する。

### 1.3 背景と課題

| 課題 | 影響 |
|------|------|
| 情報が分散している | 有用な情報を見逃す、重複調査が発生 |
| 情報の評価が属人的 | チーム内で知識レベルに差が生じる |
| 実践方法が不明確 | 知識はあるが実装できない |

### 1.4 解決策

```
情報収集 → AI分析 → 人間レビュー → マニュアル化 → 共有
   ↓           ↓          ↓            ↓          ↓
  RSS      重要度評価    承認/却下    手順書作成   週次レポート
スクレイピング 有用度評価   補足追加    過去リンク   社内公開
              難易度評価
```

---

## 2. ターゲットユーザー

### 2.1 プライマリユーザー

| ユーザー | ニーズ | 利用シーン |
|----------|--------|-----------|
| 自分（開発者） | 最新のAIコーディング情報を効率的にキャッチアップ | 日常業務中の情報収集 |

### 2.2 セカンダリユーザー（将来）

| ユーザー | ニーズ | 利用シーン |
|----------|--------|-----------|
| 社内開発者 | 評価済みの信頼できる情報へのアクセス | 新技術導入時の学習 |
| 新人エンジニア | 初心者向けの実装マニュアル | オンボーディング |

---

## 3. 機能要件

### 3.1 情報収集機能

#### 3.1.1 データソース

| ソースタイプ | 対象例 | 収集方法 |
|-------------|--------|----------|
| ブログ記事 | Zenn, Qiita, Dev.to, Medium | RSS |
| 公式ドキュメント | Anthropic Docs, Release Notes | スクレイピング |
| 技術ブログ | 個人ブログ、企業ブログ | RSS / スクレイピング |

#### 3.1.2 収集仕様

| 項目 | 仕様 |
|------|------|
| 収集頻度 | 1日1回（※自動化手段は要決定） |
| 監視対象管理 | URLリストで管理（CRUD可能） |
| RSS対応 | フィードURL手動入力（自動検出はPhase 2） |
| スクレイピング | RSS非対応サイト向け（※実装方式は要決定） |
| 重複検出 | URL正規化 + 同一ソース内タイトル類似度90%以上 |

### 3.2 AI分析機能

#### 3.2.1 評価項目

| 評価軸 | スケール | 定義 |
|--------|----------|------|
| 重要度 | 1-5 | この情報を知らないとどれだけ損するか |
| 有用度 | 1-5 | 実際の作業でどれだけ使えるか |
| 難易度 | 1-5 | 初心者が理解・実装するのにどれだけかかるか |

→ 詳細定義: [evaluation-criteria.md](../evaluation-criteria.md)

#### 3.2.2 AI出力

| 出力項目 | 形式 |
|----------|------|
| 評価スコア | 数値 (1-5) × 3項目 |
| 評価理由 | 各項目につきテキスト |
| 要約 | 100文字以内 |
| タグ | 配列 (最大5個) |

### 3.3 人間レビュー機能

| 機能 | 説明 |
|------|------|
| AI評価の確認 | AI判定結果を表示 |
| スコア修正 | 人間がスコアを上書き可能 |
| コメント追加 | 補足情報・所感を追記 |
| 承認/却下 | レポート掲載可否を決定 |

### 3.4 レポート機能

| 項目 | 仕様 |
|------|------|
| 生成頻度 | **週次** |
| トリガー | 手動実行 or スケジュール |
| 内容 | 週間ベスト記事、カテゴリ別まとめ |
| 形式 | Webページ + Markdown出力 |

### 3.5 マニュアル機能

#### 3.5.1 マニュアル仕様

| 項目 | 仕様 |
|------|------|
| 対象 | 初心者でも実装可能なステップバイステップ形式 |
| 構成 | 目的 → 前提条件 → 手順 → 確認方法 → トラブルシューティング |
| 過去リンク | 関連する過去マニュアルへの参照を含む |
| 作成方法 | AIがドラフト生成 → 人間がレビュー・編集 |

#### 3.5.2 マニュアルテンプレート

```markdown
# [マニュアルタイトル]

## 概要
[このマニュアルで何ができるようになるか]

## 前提条件
- [必要な知識・環境]
- [関連マニュアル: リンク]

## 手順

### Step 1: [アクション]
[詳細説明]
```code
[コード例]
```

### Step 2: [アクション]
...

## 確認方法
[正しく完了したか確認する方法]

## トラブルシューティング
| 症状 | 原因 | 対処法 |
|------|------|--------|
| ... | ... | ... |

## 関連マニュアル
- [過去マニュアル1](リンク)
- [過去マニュアル2](リンク)
```

---

## 4. 非機能要件

### 4.1 パフォーマンス

| 項目 | 目標値 |
|------|--------|
| ページロード時間 | 3秒以内 |
| API応答時間 | 500ms以内（AI分析除く） |
| 同時接続数 | 10ユーザー（初期） |

### 4.2 可用性

| 項目 | 目標値 |
|------|--------|
| 稼働率 | 99%（月間ダウンタイム7時間以内） |
| バックアップ | 日次（Supabase自動） |

### 4.3 セキュリティ

| 項目 | 対応 |
|------|------|
| 認証 | 初期: なし（個人利用）、将来: Supabase Auth |
| 認可 | 初期: なし、将来: RLS (Row Level Security) |
| APIキー管理 | 環境変数で管理、クライアントに露出しない |

### 4.4 運用コスト

| サービス | 月額費用 | 備考 |
|----------|----------|------|
| Vercel | ¥0 | Hobby無料枠 |
| Supabase | ¥0 | Free tier (500MB) |
| Claude API | ~¥2,000 | 週50記事分析想定 |
| ドメイン | ¥0-1,000 | オプション |
| **合計** | **~¥2,000-3,000** | 予算内 |

---

## 5. 技術スタック

| レイヤー | 技術 | 選定理由 |
|----------|------|----------|
| Frontend | Next.js 14 (App Router) | 人気、情報量、学習資料の豊富さ |
| Backend | Next.js API Routes | 同一コードベース、シンプル |
| Database | Supabase (PostgreSQL) | 無料枠大、管理画面、認証内蔵 |
| AI | Claude API (Haiku) | 低コスト、日本語強い、高品質 |
| Hosting | Vercel | Next.js最適、無料枠、簡単デプロイ |
| Styling | Tailwind CSS | 高速開発、カスタマイズ性 |
| Scraping | Cheerio / Puppeteer | 軽量 / 動的サイト対応 |

---

## 6. スコープ

### 6.1 MVP（Phase 1）

| 機能 | 優先度 | 状態 |
|------|--------|------|
| 監視対象URL管理 | HIGH | 未着手 |
| RSS/スクレイピング収集 | HIGH | 未着手 |
| AI分析（評価スコア） | HIGH | 未着手 |
| 記事一覧表示 | HIGH | 未着手 |
| 人間レビュー画面 | HIGH | 未着手 |
| 週次レポート生成 | MEDIUM | 未着手 |

### 6.2 Phase 2（社内公開）

| 機能 | 優先度 |
|------|--------|
| ユーザー認証 | HIGH |
| マニュアル作成機能 | HIGH |
| マニュアル相互リンク | MEDIUM |
| 検索機能 | MEDIUM |

### 6.3 対象外（Out of Scope）

- モバイルアプリ
- リアルタイム通知
- 多言語対応
- 外部サービス連携（Slack, Notion等）

---

## 7. リスクと対策

| リスク | 影響度 | 対策 |
|--------|--------|------|
| RSS非対応サイトが多い | HIGH | スクレイピング + 手動登録を併用 |
| AI分析コスト超過 | MEDIUM | 月次コスト監視、上限アラート設定 |
| スクレイピングがブロックされる | MEDIUM | User-Agent調整、頻度制限遵守 |
| 著作権問題 | MEDIUM | 全文保存せず要約+リンク形式に |

---

## 8. 成功指標

| 指標 | 目標値 | 測定方法 |
|------|--------|----------|
| 週間収集記事数 | 30件以上 | DB集計 |
| AI分析精度 | 人間評価と80%一致 | 各スコアの差が1以内を「一致」と判定 |
| レポート生成 | 週1回以上 | 生成ログ |
| マニュアル作成数 | 月4件以上 | DB集計（Phase 2以降） |

---

## 9. 承認履歴

| 日付 | バージョン | 承認者 | 内容 |
|------|-----------|--------|------|
| 2026-01-31 | 1.0 | - | 初版作成 |
| 2026-01-31 | 1.1 | - | セルフレビュー反映（曖昧な箇所の明確化） |
